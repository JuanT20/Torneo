{% if ronda_actual %}
<h3>Fecha {{ ronda_actual.ronda }}</h3>
<form id="formPartidos">
  <input type="hidden" id="idTorneo" value="{{ id_torneo }}" />

  <table class="table table-striped table-bordered">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Equipo Local</th>
        <th scope="col">Equipo Visitante</th>
        <th scope="col">Fecha</th>
        <th scope="col">Hora</th>
        <th scope="col">Ubicación</th>
        <th scope="col">Árbitros</th>
      </tr>
    </thead>
    <tbody>
      {% for partido in ronda_actual.partidos %}
      <tr>
        <td>
          {{ partido.local }}

          <input type="hidden" id="idLocal" value="{{ partido.id_local }}" />
        </td>
        <td>
          {{ partido.visitante }}
          <input
            type="hidden"
            id="idVisitante"
            value="{{ partido.id_visitante }}"
          />
        </td>
        <td>
          <input
            class="form-control input-table"
            type="date"
            id="fecha"
            required
          />
        </td>
        <td>
          <input
            class="form-control input-table"
            type="time"
            id="hora"
            required
          />
        </td>
        <td>
          <select class="form-control input-table" id="ubicacion">
            <option value="">Seleccione</option>
            {% for ubicacion in ubicaciones %}
            <option value="{{ ubicacion.id_ubicacion }}">
              {{ ubicacion.lugar }} - {{ ubicacion.cancha }}
            </option>
            {% endfor %}
          </select>
        </td>
        <td>
          <select class="form-control input-table" id="arbitro">
            <option value="">Seleccione</option>
            {% for arbitro in arbitros %}
            <option value="{{ arbitro.id_arbitro }}">
              {{ arbitro.nombre }}
            </option>
            {% endfor %}
          </select>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <button class="btn btn-warning mx-2" type="submit">Guardar Cambios</button>
</form>

<!-- Controles de paginación -->
<div class="pagination-container text-center mt-4">
  {% if total_pages > 1 %}
  <nav>
    <ul class="pagination justify-content-center">
      {% if current_page > 1 %}
      <li class="page-item">
        <a
          class="page-link"
          href="?id_torneo={{ id_torneo }}&page={{ current_page - 1 }}"
          >Anterior</a
        >
      </li>
      {% endif %}

      <li class="page-item active">
        <span class="page-link">{{ current_page }}</span>
      </li>

      {% if current_page < total_pages %}
      <li class="page-item">
        <div class="d-flex">
          <a
            class="page-link"
            href="?id_torneo={{ id_torneo }}&page={{ current_page + 1 }}"
            >Siguiente</a
          >
        </div>
      </li>
      {% endif %}
    </ul>
  </nav>
  {% endif %}
</div>

{% else %}
<p class="text-center text-warning">
  No hay fixtures disponibles para este torneo.
</p>
{% endif %}
